import{l as h,b,m as pe,n as C,r as W,p as D,q as he,v as ye,x as xe,k as f,y as U,z as J,A as be,B as Q,_ as te,d as re,o as E,c as O,C as B,D as Re,g as we,t as X,h as k,F as je,E as _e}from"./index.93ca6e21.js";function Y(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Object.keys(e).reduce((t,a)=>(r.includes(a)||(t[a]=f(e[a])),t),{})}function z(e){return typeof e=="function"}function Ee(e){return he(e)||ye(e)}function ne(e,r,t,a){return e.call(a,f(r),f(t),a)}function ae(e){return e.$valid!==void 0?!e.$valid:!e}function Oe(e,r,t,a,s,c,m){let{$lazy:u,$rewardEarly:l}=s,v=arguments.length>7&&arguments[7]!==void 0?arguments[7]:[],i=arguments.length>8?arguments[8]:void 0,$=arguments.length>9?arguments[9]:void 0,p=arguments.length>10?arguments[10]:void 0;const g=b(!!a.value),n=b(0);t.value=!1;const o=C([r,a].concat(v,p),()=>{if(u&&!a.value||l&&!$.value&&!t.value)return;let d;try{d=ne(e,r,i,m)}catch(y){d=Promise.reject(y)}n.value++,t.value=!!n.value,g.value=!1,Promise.resolve(d).then(y=>{n.value--,t.value=!!n.value,c.value=y,g.value=ae(y)}).catch(y=>{n.value--,t.value=!!n.value,c.value=y,g.value=!0})},{immediate:!0,deep:typeof r=="object"});return{$invalid:g,$unwatch:o}}function Ve(e,r,t,a,s,c,m,u){let{$lazy:l,$rewardEarly:v}=a;const i=()=>({}),$=h(()=>{if(l&&!t.value||v&&!u.value)return!1;let p=!0;try{const g=ne(e,r,m,c);s.value=g,p=ae(g)}catch(g){s.value=g}return p});return{$unwatch:i,$invalid:$}}function Ce(e,r,t,a,s,c,m,u,l,v,i){const $=b(!1),p=e.$params||{},g=b(null);let n,o;e.$async?{$invalid:n,$unwatch:o}=Oe(e.$validator,r,$,t,a,g,s,e.$watchTargets,l,v,i):{$invalid:n,$unwatch:o}=Ve(e.$validator,r,t,a,g,s,l,v);const d=e.$message;return{$message:z(d)?h(()=>d(Y({$pending:$,$invalid:n,$params:Y(p),$model:r,$response:g,$validator:c,$propertyPath:u,$property:m}))):d||"",$params:p,$pending:$,$invalid:n,$response:g,$unwatch:o}}function Ae(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=f(e),t=Object.keys(r),a={},s={},c={};return t.forEach(m=>{const u=r[m];switch(!0){case z(u.$validator):a[m]=u;break;case z(u):a[m]={$validator:u};break;case m.startsWith("$"):c[m]=u;break;default:s[m]=u}}),{rules:a,nestedValidators:s,config:c}}function Pe(){}const ze="__root";function se(e,r,t){if(t)return r?r(e()):e();try{var a=Promise.resolve(e());return r?a.then(r):a}catch(s){return Promise.reject(s)}}function Le(e,r){return se(e,Pe,r)}function Fe(e,r){var t=e();return t&&t.then?t.then(r):r(t)}function Te(e){return function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];try{return Promise.resolve(e.apply(this,r))}catch(a){return Promise.reject(a)}}}function Se(e,r,t,a,s,c,m,u,l){const v=Object.keys(e),i=a.get(s,e),$=b(!1),p=b(!1),g=b(0);if(i){if(!i.$partial)return i;i.$unwatch(),$.value=i.$dirty.value}const n={$dirty:$,$path:s,$touch:()=>{$.value||($.value=!0)},$reset:()=>{$.value&&($.value=!1)},$commit:()=>{}};return v.length?(v.forEach(o=>{n[o]=Ce(e[o],r,n.$dirty,c,m,o,t,s,l,p,g)}),n.$externalResults=h(()=>u.value?[].concat(u.value).map((o,d)=>({$propertyPath:s,$property:t,$validator:"$externalResults",$uid:`${s}-externalResult-${d}`,$message:o,$params:{},$response:null,$pending:!1})):[]),n.$invalid=h(()=>{const o=v.some(d=>f(n[d].$invalid));return p.value=o,!!n.$externalResults.value.length||o}),n.$pending=h(()=>v.some(o=>f(n[o].$pending))),n.$error=h(()=>n.$dirty.value?n.$pending.value||n.$invalid.value:!1),n.$silentErrors=h(()=>v.filter(o=>f(n[o].$invalid)).map(o=>{const d=n[o];return W({$propertyPath:s,$property:t,$validator:o,$uid:`${s}-${o}`,$message:d.$message,$params:d.$params,$response:d.$response,$pending:d.$pending})}).concat(n.$externalResults.value)),n.$errors=h(()=>n.$dirty.value?n.$silentErrors.value:[]),n.$unwatch=()=>v.forEach(o=>{n[o].$unwatch()}),n.$commit=()=>{p.value=!0,g.value=Date.now()},a.set(s,e,n),n):(i&&a.set(s,e,n),n)}function Ne(e,r,t,a,s,c,m){const u=Object.keys(e);return u.length?u.reduce((l,v)=>(l[v]=M({validations:e[v],state:r,key:v,parentKey:t,resultsCache:a,globalConfig:s,instance:c,externalResults:m}),l),{}):{}}function Ie(e,r,t){const a=h(()=>[r,t].filter(n=>n).reduce((n,o)=>n.concat(Object.values(f(o))),[])),s=h({get(){return e.$dirty.value||(a.value.length?a.value.every(n=>n.$dirty):!1)},set(n){e.$dirty.value=n}}),c=h(()=>{const n=f(e.$silentErrors)||[],o=a.value.filter(d=>(f(d).$silentErrors||[]).length).reduce((d,y)=>d.concat(...y.$silentErrors),[]);return n.concat(o)}),m=h(()=>{const n=f(e.$errors)||[],o=a.value.filter(d=>(f(d).$errors||[]).length).reduce((d,y)=>d.concat(...y.$errors),[]);return n.concat(o)}),u=h(()=>a.value.some(n=>n.$invalid)||f(e.$invalid)||!1),l=h(()=>a.value.some(n=>f(n.$pending))||f(e.$pending)||!1),v=h(()=>a.value.some(n=>n.$dirty)||a.value.some(n=>n.$anyDirty)||s.value),i=h(()=>s.value?l.value||u.value:!1),$=()=>{e.$touch(),a.value.forEach(n=>{n.$touch()})},p=()=>{e.$commit(),a.value.forEach(n=>{n.$commit()})},g=()=>{e.$reset(),a.value.forEach(n=>{n.$reset()})};return a.value.length&&a.value.every(n=>n.$dirty)&&$(),{$dirty:s,$errors:m,$invalid:u,$anyDirty:v,$error:i,$pending:l,$touch:$,$reset:g,$silentErrors:c,$commit:p}}function M(e){const r=Te(function(){return q(),Fe(function(){if(o.$rewardEarly)return Z(),Le(Q)},function(){return se(Q,function(){return new Promise(x=>{if(!I.value)return x(!N.value);const V=C(I,()=>{x(!N.value),V()})})})})});let{validations:t,state:a,key:s,parentKey:c,childResults:m,resultsCache:u,globalConfig:l={},instance:v,externalResults:i}=e;const $=c?`${c}.${s}`:s,{rules:p,nestedValidators:g,config:n}=Ae(t),o=Object.assign({},l,n),d=s?h(()=>{const x=f(a);return x?f(x[s]):void 0}):a,y=Object.assign({},f(i)||{}),S=h(()=>{const x=f(i);return s?x?f(x[s]):void 0:x}),j=Se(p,d,s,u,$,o,v,S,a),_=Ne(g,d,$,u,o,v,S),{$dirty:R,$errors:A,$invalid:N,$anyDirty:ce,$error:de,$pending:I,$touch:q,$reset:$e,$silentErrors:fe,$commit:Z}=Ie(j,_,m),me=s?h({get:()=>f(d),set:x=>{R.value=!0;const V=f(a),H=f(i);H&&(H[s]=y[s]),D(V[s])?V[s].value=x:V[s]=x}}):null;s&&o.$autoDirty&&C(d,()=>{R.value||q();const x=f(i);x&&(x[s]=y[s])},{flush:"sync"});function ve(x){return(m.value||{})[x]}function ge(){D(i)?i.value=y:Object.keys(y).length===0?Object.keys(i).forEach(x=>{delete i[x]}):Object.assign(i,y)}return W(Object.assign({},j,{$model:me,$dirty:R,$error:de,$errors:A,$invalid:N,$anyDirty:ce,$pending:I,$touch:q,$reset:$e,$path:$||ze,$silentErrors:fe,$validate:r,$commit:Z},m&&{$getResultsForChild:ve,$clearExternalResults:ge},_))}class qe{constructor(){this.storage=new Map}set(r,t,a){this.storage.set(r,{rules:t,result:a})}checkRulesValidity(r,t,a){const s=Object.keys(a),c=Object.keys(t);return c.length!==s.length||!c.every(u=>s.includes(u))?!1:c.every(u=>t[u].$params?Object.keys(t[u].$params).every(l=>f(a[u].$params[l])===f(t[u].$params[l])):!0)}get(r,t){const a=this.storage.get(r);if(!a)return;const{rules:s,result:c}=a,m=this.checkRulesValidity(r,t,s),u=c.$unwatch?c.$unwatch:()=>({});return m?c:{$dirty:c.$dirty,$partial:!0,$unwatch:u}}}const P={COLLECT_ALL:!0,COLLECT_NONE:!1},K=Symbol("vuelidate#injectChildResults"),ee=Symbol("vuelidate#removeChildResults");function ke(e){let{$scope:r,instance:t}=e;const a={},s=b([]),c=h(()=>s.value.reduce((i,$)=>(i[$]=f(a[$]),i),{}));function m(i,$){let{$registerAs:p,$scope:g,$stopPropagation:n}=$;n||r===P.COLLECT_NONE||g===P.COLLECT_NONE||r!==P.COLLECT_ALL&&r!==g||(a[p]=i,s.value.push(p))}t.__vuelidateInjectInstances=[].concat(t.__vuelidateInjectInstances||[],m);function u(i){s.value=s.value.filter($=>$!==i),delete a[i]}t.__vuelidateRemoveInstances=[].concat(t.__vuelidateRemoveInstances||[],u);const l=U(K,[]);J(K,t.__vuelidateInjectInstances);const v=U(ee,[]);return J(ee,t.__vuelidateRemoveInstances),{childResults:c,sendValidationResultsToParent:l,removeValidationResultsFromParent:v}}function oe(e){return new Proxy(e,{get(r,t){return typeof r[t]=="object"?oe(r[t]):h(()=>r[t])}})}function ot(e,r){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};arguments.length===1&&(t=e,e=void 0,r=void 0);let{$registerAs:a,$scope:s=P.COLLECT_ALL,$stopPropagation:c,$externalResults:m,currentVueInstance:u}=t;const l=u||be(),v=l?l.proxy.$options:{};!a&&l&&(a=`_vuelidate_${l.uid||l._uid}`);const i=b({}),$=new qe,{childResults:p,sendValidationResultsToParent:g,removeValidationResultsFromParent:n}=l?ke({$scope:s,instance:l}):{childResults:b({})};if(!e&&v.validations){const o=v.validations;r=b({}),pe(()=>{r.value=l.proxy,C(()=>z(o)?o.call(r.value,new oe(r.value)):o,d=>{i.value=M({validations:d,state:r,childResults:p,resultsCache:$,globalConfig:t,instance:l.proxy,externalResults:m||l.proxy.vuelidateExternalResults})},{immediate:!0})}),t=v.validationsConfig||t}else{const o=D(e)||Ee(e)?e:W(e||{});C(o,d=>{i.value=M({validations:d,state:r,childResults:p,resultsCache:$,globalConfig:t,instance:l?l.proxy:{},externalResults:m})},{immediate:!0})}return l&&(g.forEach(o=>o(i,{$registerAs:a,$scope:s,$stopPropagation:c})),xe(()=>n.forEach(o=>o(a)))),h(()=>Object.assign({},f(i.value),p.value))}function L(e){return typeof e=="function"}function G(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function F(e){return L(e.$validator)?Object.assign({},e):{$validator:e}}function ie(e){return typeof e=="object"?e.$valid:e}function ue(e){return e.$validator||e}function De(e,r){if(!G(e))throw new Error(`[@vuelidate/validators]: First parameter to "withParams" should be an object, provided ${typeof e}`);if(!G(r)&&!L(r))throw new Error("[@vuelidate/validators]: Validator must be a function or object with $validator parameter");const t=F(r);return t.$params=Object.assign({},t.$params||{},e),t}function Be(e,r){if(!L(e)&&typeof f(e)!="string")throw new Error(`[@vuelidate/validators]: First parameter to "withMessage" should be string or a function returning a string, provided ${typeof e}`);if(!G(r)&&!L(r))throw new Error("[@vuelidate/validators]: Validator must be a function or object with $validator parameter");const t=F(r);return t.$message=e,t}function Me(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const t=F(e);return Object.assign({},t,{$async:!0,$watchTargets:r})}function Ge(e){return{$validator(r){for(var t=arguments.length,a=new Array(t>1?t-1:0),s=1;s<t;s++)a[s-1]=arguments[s];return f(r).reduce((c,m)=>{const u=Object.entries(m).reduce((l,v)=>{let[i,$]=v;const p=e[i]||{},g=Object.entries(p).reduce((n,o)=>{let[d,y]=o;const j=ue(y).call(this,$,m,...a),_=ie(j);if(n.$data[d]=j,n.$data.$invalid=!_||!!n.$data.$invalid,n.$data.$error=n.$data.$invalid,!_){let R=y.$message||"";const A=y.$params||{};typeof R=="function"&&(R=R({$pending:!1,$invalid:!_,$params:A,$model:$,$response:j})),n.$errors.push({$property:i,$message:R,$params:A,$response:j,$model:$,$pending:!1,$validator:d})}return{$valid:n.$valid&&_,$data:n.$data,$errors:n.$errors}},{$valid:!0,$data:{},$errors:[]});return l.$data[i]=g.$data,l.$errors[i]=g.$errors,{$valid:l.$valid&&g.$valid,$data:l.$data,$errors:l.$errors}},{$valid:!0,$data:{},$errors:{}});return{$valid:c.$valid&&u.$valid,$data:c.$data.concat(u.$data),$errors:c.$errors.concat(u.$errors)}},{$valid:!0,$data:[],$errors:[]})},$message:r=>{let{$response:t}=r;return t?t.$errors.map(a=>Object.values(a).map(s=>s.map(c=>c.$message)).reduce((s,c)=>s.concat(c),[])):[]}}}const T=e=>{if(e=f(e),Array.isArray(e))return!!e.length;if(e==null)return!1;if(e===!1)return!0;if(e instanceof Date)return!isNaN(e.getTime());if(typeof e=="object"){for(let r in e)return!0;return!1}return!!String(e).length},le=e=>(e=f(e),Array.isArray(e)?e.length:typeof e=="object"?Object.keys(e).length:String(e).length);function w(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return a=>(a=f(a),!T(a)||r.every(s=>s.test(a)))}var it=Object.freeze({__proto__:null,withParams:De,withMessage:Be,withAsync:Me,forEach:Ge,req:T,len:le,regex:w,unwrap:f,unwrapNormalizedValidator:ue,unwrapValidatorResponse:ie,normalizeValidatorObject:F});w(/^[a-zA-Z]*$/);w(/^[a-zA-Z0-9]*$/);w(/^\d*(\.\d+)?$/);const We=/^(?:[A-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[A-z0-9!#$%&'*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9]{2,}(?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/i;var Ze=w(We),ut={$validator:Ze,$message:"Value is not a valid email address",$params:{type:"email"}};function He(e){return r=>!T(r)||le(r)>=f(e)}function lt(e){return{$validator:He(e),$message:r=>{let{$params:t}=r;return`This field should be at least ${t.min} characters long`},$params:{min:e,type:"minLength"}}}function Ue(e){return typeof e=="string"&&(e=e.trim()),T(e)}var ct={$validator:Ue,$message:"Value is required",$params:{type:"required"}};const Je=/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i;w(Je);var Qe=w(/(^[0-9]*$)|(^-[0-9]+$)/),dt={$validator:Qe,$message:"Value is not an integer",$params:{type:"integer"}};w(/^[-]?\d*(\.\d+)?$/);const Xe={class:"-mx-3"},Ye=re({__name:"AppForm",setup(e){return(r,t)=>(E(),O("form",Xe,[B(r.$slots,"default")]))}});var $t=te(Ye,[["__file","/home/dmitry/PhpstormProjects/school-manager-web/src/frontend/components/AppForm.vue"]]);const Ke={class:"px-3 mb-6 flex flex-col"},et=["for"],tt={key:0,class:"text-red-500 font-bold"},rt={key:1},nt={class:"text-red-500 mt-2 text-sm"},at=re({__name:"AppFormGroup",props:{label:{type:String,required:!1},target:{type:String,required:!1},required:{type:Boolean,required:!1,default:!1},errors:{type:Array,required:!1,default:()=>[]}},setup(e){return(r,t)=>(E(),O("div",Ke,[e.label?(E(),O("label",{key:0,for:e.target,class:"text-sm mb-2 flex items-center justify-between"},[Re("span",null,[we(X(e.label)+" ",1),e.required?(E(),O("span",tt,"*")):k("v-if",!0)]),B(r.$slots,"context")],8,et)):k("v-if",!0),B(r.$slots,"default"),e.errors.length?(E(),O("ul",rt,[(E(!0),O(je,null,_e(e.errors,a=>(E(),O("li",nt,X(a.$message),1))),256))])):k("v-if",!0)]))}});var ft=te(at,[["__file","/home/dmitry/PhpstormProjects/school-manager-web/src/frontend/components/AppFormGroup.vue"]]);export{$t as A,ft as a,it as c,ut as e,dt as i,lt as m,ct as r,ot as u};
